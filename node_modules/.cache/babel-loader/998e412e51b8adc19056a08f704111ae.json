{"ast":null,"code":"var _jsxFileName = \"/Users/tritchaphornboisson/All_Projects/typescript_tictactoe/src/Board.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Cell } from \"./Cell\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BoardWrapper = styled.div`\nbackground-color: #999999;\nwidth: 100%;\nheight: 100%;\ngrid-template-columns: auto auto auto;\ngrid-template-rows: auto auto auto;\ndisplay: grid;\ncolumn-gap: 6px;\nrow-gap: 6px;\n`;\n_c = BoardWrapper;\nconst winningConditions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\nexport const Board = ({\n  onGameEnd\n}) => {\n  _s();\n\n  const [cells, setCells] = useState(Array(9).fill(undefined));\n  const currentShape = cells.filter(n => n).length % 2 ? 'o' : 'x';\n  const winningCondition = winningConditions.find(cond => {\n    const line = cond.map(cellIndex => cells[cellIndex]);\n    return line[0] && line.every(cellValue => cellValue === line[0]);\n  });\n  const tie = cells.filter(c => c).length === 9;\n  const winningShape = winningCondition ? cells[winningCondition[0]] : undefined;\n\n  const toggleCell = index => {\n    setCells(cells => cells.map((c, i) => i === index ? currentShape : c));\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoardWrapper, {\n    children: cells.map((cell, i) => /*#__PURE__*/_jsxDEV(Cell, {\n      value: cell,\n      index: i,\n      toggle: toggleCell\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 14\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Board, \"qFw+jPCOcS2YeoVxK2BAH1YkRTU=\");\n\n_c2 = Board;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BoardWrapper\");\n$RefreshReg$(_c2, \"Board\");","map":{"version":3,"sources":["/Users/tritchaphornboisson/All_Projects/typescript_tictactoe/src/Board.tsx"],"names":["React","useState","styled","Cell","BoardWrapper","div","winningConditions","Board","onGameEnd","cells","setCells","Array","fill","undefined","currentShape","filter","n","length","winningCondition","find","cond","line","map","cellIndex","every","cellValue","tie","c","winningShape","toggleCell","index","i","cell"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,IAAT,QAAgC,QAAhC;;AAEA,MAAMC,YAAY,GAAGF,MAAM,CAACG,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;KAAMD,Y;AAiBN,MAAME,iBAAiB,GAAG,CACtB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADsB,EACb,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADa,EACJ,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADI,EAEtB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFsB,EAEb,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFa,EAEJ,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFI,EAGtB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAHsB,EAGb,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAHa,CAA1B;AAMA,OAAO,MAAMC,KAAqB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmB;AAAA;;AACpD,QAAK,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAcU,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAcC,SAAd,CAAd,CAAjC;AAEA,QAAMC,YAAuB,GAAGL,KAAK,CAACM,MAAN,CAAaC,CAAC,IAAIA,CAAlB,EAAqBC,MAArB,GAA8B,CAA9B,GAAkC,GAAlC,GAAwC,GAAxE;AAEA,QAAMC,gBAAgB,GAAGZ,iBAAiB,CAACa,IAAlB,CAAuBC,IAAI,IAAI;AACpD,UAAMC,IAAI,GAAGD,IAAI,CAACE,GAAL,CAASC,SAAS,IAAId,KAAK,CAACc,SAAD,CAA3B,CAAb;AACA,WAAOF,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAACG,KAAL,CAAWC,SAAS,IAAIA,SAAS,KAAKJ,IAAI,CAAC,CAAD,CAA1C,CAAlB;AACH,GAHwB,CAAzB;AAKA,QAAMK,GAAG,GAAGjB,KAAK,CAACM,MAAN,CAAaY,CAAC,IAAIA,CAAlB,EAAqBV,MAArB,KAAgC,CAA5C;AACA,QAAMW,YAAY,GAAGV,gBAAgB,GAAGT,KAAK,CAACS,gBAAgB,CAAC,CAAD,CAAjB,CAAR,GAAgCL,SAArE;;AAEA,QAAMgB,UAAU,GAAIC,KAAD,IAAmB;AAClCpB,IAAAA,QAAQ,CAACD,KAAK,IAAIA,KAAK,CAACa,GAAN,CAAU,CAACK,CAAD,EAAII,CAAJ,KAAUA,CAAC,KAAKD,KAAN,GAAchB,YAAd,GAA6Ba,CAAjD,CAAV,CAAR;AACH,GAFD;;AAKH,sBAAO,QAAC,YAAD;AAAA,cAEClB,KAAK,CAACa,GAAN,CAAU,CAACU,IAAD,EAAOD,CAAP,kBACN,QAAC,IAAD;AAEA,MAAA,KAAK,EAAEC,IAFP;AAGA,MAAA,KAAK,EAAED,CAHP;AAIA,MAAA,MAAM,EAAEF;AAJR,OACOE,CADP;AAAA;AAAA;AAAA;AAAA,YADJ;AAFD;AAAA;AAAA;AAAA;AAAA,UAAP;AAYA,CA9BM;;GAAMxB,K;;MAAAA,K","sourcesContent":["import React, {FC, useState} from 'react';\nimport styled from 'styled-components';\nimport { Cell, CellValue } from \"./Cell\";\n\nconst BoardWrapper = styled.div`\nbackground-color: #999999;\nwidth: 100%;\nheight: 100%;\ngrid-template-columns: auto auto auto;\ngrid-template-rows: auto auto auto;\ndisplay: grid;\ncolumn-gap: 6px;\nrow-gap: 6px;\n`;\n\ntype Winner = CellValue | 'tie'\n\ninterface BoardProps {\n    onGameEnd(winner: Winner): void;\n}\n\nconst winningConditions = [\n    [0,1,2], [3,4,5], [6,7,8],\n    [0,3,6], [1,4,7], [2,5,8],\n    [0,4,8], [2,4,6]\n]\n\nexport const Board: FC<BoardProps> = ({ onGameEnd }) => {\n    const[cells, setCells] = useState<CellValue[]>(Array(9).fill(undefined));\n \n    const currentShape: CellValue = cells.filter(n => n).length % 2 ? 'o' : 'x';\n    \n    const winningCondition = winningConditions.find(cond => {\n        const line = cond.map(cellIndex => cells[cellIndex])\n        return line[0] && line.every(cellValue => cellValue === line[0])\n    })\n\n    const tie = cells.filter(c => c).length === 9;\n    const winningShape = winningCondition ? cells[winningCondition[0]] : undefined ;\n\n    const toggleCell = (index: number) => {\n        setCells(cells => cells.map((c, i) => i === index ? currentShape : c ))\n    }\n \n \n return <BoardWrapper>\n     {\n         cells.map((cell, i ) => (\n             <Cell \n             key = {i}\n             value={cell}\n             index={i}\n             toggle={toggleCell}\n             />\n         ))\n     }\n </BoardWrapper>\n};"]},"metadata":{},"sourceType":"module"}